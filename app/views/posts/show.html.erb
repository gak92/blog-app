<div>
  <h1>Post Details</h1>

  <div>
    <h3> <%=@post.title %> <span> by <%= @post.author.name%> </span></h3>
    <div>
      <p>Comments: <%=@post.comments_counter%> </p>
      <p>Likes: <%=@post.likes_counter%> </p> 
    </div>
    <p> <%=@post.text%> </p>
  </div>

  
  <div class="post_counter">
      <%= form_with url: "/posts/#{@post.id}/likes", scope: :like do |f| %>
        <%= f.submit "Like this post" %>
      <% end %>
  </div>
  <%= render partial: "create_comments",  local: { post: @post } %>

  <div>
    <ul>
      <%@post.comments.each do |comment|%>
        <li>
          <p> 
            <span><%=comment.author.name %> :</span> <%=comment.text%>

            <% if can? :destroy, comment %>
              <%= button_to 'Delete Comment', "/posts/#{@post.id}/comments/#{comment.id}", class: 'btn btn-sm btn-danger', method: :delete %>
            <% end %>

          </p>
        </li>
      <%end%>
    </ul>
  </div>

  <div>
    <%= link_to "Back to User", user_path(@post.author) %>
  </div>

</div>
